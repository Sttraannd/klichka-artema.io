<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–ª–∏—á–∫–∏ –ê—Ä—Ç—ë–º–∞ –≤ —à–∫–æ–ª–µ</title>
    <style>
        :root {
            --primary: #667eea;
            --secondary: #764ba2;
            --accent: #ff6b6b;
            --light: rgba(255, 255, 255, 0.2);
            --text: white;
        }
        * { box-sizing: border-box; }
        body {
            margin: 0; padding: 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: var(--text);
            min-height: 100vh;
            display: flex; justify-content: center; align-items: flex-start;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 30px;
            max-width: 800px; width: 100%;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
        }
        .header { text-align: center; margin-bottom: 25px; }
        .header h1 {
            font-size: 2.3em; margin: 0;
            display: flex; align-items: center; justify-content: center;
            gap: 10px; flex-wrap: wrap;
        }
        .cap {
            font-size: 1.6em; background: #ffd700; color: #333;
            border-radius: 50%; width: 44px; height: 44px;
            display: flex; align-items: center; justify-content: center;
        }
        .stats { display: flex; justify-content: space-around; margin-bottom: 25px; flex-wrap: wrap; }
        .stat {
            background: var(--light); border-radius: 15px;
            padding: 16px; text-align: center; flex: 1;
            min-width: 100px; margin: 8px;
        }
        .stat-number { font-size: 2em; font-weight: bold; }
        .stat-label { font-size: 0.85em; opacity: 0.8; }
        .actions { display: flex; justify-content: center; gap: 15px; margin-bottom: 25px; flex-wrap: wrap; }
        .action-btn {
            background: var(--light); border: none; border-radius: 15px;
            padding: 14px 20px; color: white; font-size: 1em;
            cursor: pointer; display: flex; align-items: center; gap: 8px;
            transition: 0.3s;
        }
        .action-btn:hover { background: rgba(255,255,255,0.3); transform: translateY(-2px); }
        .form-section { background: var(--light); border-radius: 15px; padding: 25px; margin-bottom: 25px; }
        .form-section h2 { margin: 0 0 20px 0; text-align: center; font-size: 1.6em; }
        .form-group { margin-bottom: 16px; }
        .form-group label { display: block; margin-bottom: 6px; opacity: 0.9; font-size: 0.95em; }
        .form-group input {
            width: 100%; padding: 12px 14px; border: none; border-radius: 10px;
            background: rgba(255,255,255,0.9); font-size: 1em; color: #333;
        }
        .submit-btn {
            width: 100%; padding: 14px;
            background: linear-gradient(135deg, var(--accent), #ee5a24);
            color: white; border: none; border-radius: 10px;
            font-size: 1.1em; cursor: pointer;
            display: flex; align-items: center; justify-content: center; gap: 10px;
            font-weight: bold; transition: 0.3s;
        }
        .submit-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(255,107,107,0.4); }
        .nicknames-list { margin-top: 20px; }
        .nickname-item {
            background: rgba(255,255,255,0.15); border-radius: 12px;
            padding: 14px; margin-bottom: 12px;
            display: flex; justify-content: space-between; align-items: center;
            flex-wrap: wrap; gap: 10px;
        }
        .nickname-info { flex: 1; min-width: 150px; }
        .nickname-text { font-weight: bold; font-size: 1.1em; }
        .nickname-author { font-size: 0.9em; opacity: 0.8; }
        .like-btn {
            background: rgba(255,255,255,0.2); border: none;
            border-radius: 50%; width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; font-size: 1.3em; transition: 0.3s;
        }
        .like-btn.liked { background: #ff6b6b; color: white; }
        .like-btn:hover { transform: scale(1.1); }
        .likes-count { margin-left: 8px; font-weight: bold; }
        .empty-state { text-align: center; padding: 30px; opacity: 0.7; font-style: italic; }
        .modal {
            display: none; position: fixed; z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5); justify-content: center; align-items: center;
            padding: 20px;
        }
        .modal-content {
            background: white; color: #333; border-radius: 16px;
            padding: 25px; max-width: 600px; width: 100%;
            max-height: 80vh; overflow-y: auto;
        }
        .modal-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee;
        }
        .modal-header h2 { margin: 0; font-size: 1.5em; }
        .close { font-size: 1.8em; cursor: pointer; color: #aaa; }
        .close:hover { color: #000; }
        .modal-nicknames { display: flex; flex-direction: column; gap: 12px; }
        .modal-nickname {
            background: #f8f9fa; padding: 12px; border-radius: 10px;
            display: flex; justify-content: space-between; align-items: center;
            flex-wrap: wrap; gap: 10px;
        }
        .modal-nickname-info { flex: 1; min-width: 150px; }
        .modal-nickname-text { font-weight: 600; }
        .modal-nickname-author { font-size: 0.9em; color: #666; }
        .modal-like-btn {
            background: #e9ecef; border: none; border-radius: 50%;
            width: 36px; height: 36px; display: flex; align-items: center;
            justify-content: center; cursor: pointer; font-size: 1.2em;
            transition: 0.3s;
        }
        .modal-like-btn.liked { background: #ff6b6b; color: white; }
        .modal-like-btn:hover { transform: scale(1.1); }
        .modal-likes-count { margin-left: 6px; font-weight: bold; color: #ff6b6b; }
        @media (max-width: 600px) {
            .header h1 { font-size: 1.8em; }
            .stats, .actions { flex-direction: column; align-items: center; }
            .stat, .action-btn { width: 100%; max-width: 300px; }
            .nickname-item, .modal-nickname { flex-direction: column; align-items: flex-start; }
            .nickname-info, .modal-nickname-info { width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>
                <span class="cap">üéì</span>
                –ö–ª–∏—á–∫–∏ –ê—Ä—Ç—ë–º–∞ –≤ —à–∫–æ–ª–µ üòä
            </h1>
            <p>–î–æ–±–∞–≤—å —Å–≤–æ—é –∫–ª–∏—á–∫—É –∏–ª–∏ –ø–æ—Å–º–æ—Ç—Ä–∏, —á—Ç–æ –ø—Ä–∏–¥—É–º–∞–ª–∏ –¥—Ä—É–≥–∏–µ!</p>
        </div>

        <div class="stats">
            <div class="stat">
                <div class="stat-number" id="total-nicknames">0</div>
                <div class="stat-label">–í–°–ï–ì–û –ö–õ–ò–ß–ï–ö</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="total-likes">0</div>
                <div class="stat-label">–õ–ê–ô–ö–û–í</div>
            </div>
            <div class="stat">
                <div class="stat-number" id="top-nickname">-</div>
                <div class="stat-label">–¢–û–ü –ö–õ–ò–ß–ö–ê</div>
            </div>
        </div>

        <div class="actions">
            <button class="action-btn" id="add-nickname-btn">
                üöÄ –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏—á–∫—É
            </button>
            <button class="action-btn" id="view-all-btn">
                üìã –í—Å–µ –∫–ª–∏—á–∫–∏
            </button>
        </div>

        <div class="form-section" id="form-section" style="display: none;">
            <h2>–ü—Ä–∏–¥—É–º–∞–π –∫–ª–∏—á–∫—É –¥–ª—è –ê—Ä—Ç—ë–º–∞!</h2>
            <form id="nickname-form">
                <div class="form-group">
                    <label>–ö–ª–∏—á–∫–∞</label>
                    <input type="text" id="nickname-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ê—Ä—Ç—ë–º-–®–∞—Ä–∏–∫" required>
                </div>
                <div class="form-group">
                    <label>–¢–≤–æ–π –Ω–∏–∫</label>
                    <input type="text" id="author-input" placeholder="–ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?" required>
                </div>
                <button type="submit" class="submit-btn">
                    –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏—á–∫—É üöÄ
                </button>
            </form>
        </div>

        <div class="nicknames-list" id="nicknames-list">
            <div class="empty-state">–ü–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π –∫–ª–∏—á–∫–∏... –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!</div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>–í—Å–µ –∫–ª–∏—á–∫–∏ –ê—Ä—Ç—ë–º–∞</h2>
                <span class="close">√ó</span>
            </div>
            <div id="modal-nicknames" class="modal-nicknames">
                <!-- –ö–ª–∏—á–∫–∏ –±—É–¥—É—Ç —Å—é–¥–∞ -->
            </div>
        </div>
    </div>

    <script>
        const formSection = document.getElementById('form-section');
        const addBtn = document.getElementById('add-nickname-btn');
        const form = document.getElementById('nickname-form');
        const nicknameInput = document.getElementById('nickname-input');
        const authorInput = document.getElementById('author-input');
        const list = document.getElementById('nicknames-list');
        const totalNicknames = document.getElementById('total-nicknames');
        const totalLikes = document.getElementById('total-likes');
        const topNickname = document.getElementById('top-nickname');
        const modal = document.getElementById('modal');
        const modalNicknames = document.getElementById('modal-nicknames');
        const closeBtn = document.querySelector('.close');
        const viewAllBtn = document.getElementById('view-all-btn');

        let nicknames = JSON.parse(localStorage.getItem('artem-nicknames')) || [];

        function save() {
            localStorage.setItem('artem-nicknames', JSON.stringify(nicknames));
            render();
            renderModal();
            updateStats();
        }

        function updateStats() {
            const total = nicknames.length;
            const likes = nicknames.reduce((s, n) => s + n.likes, 0);
            const top = nicknames.reduce((p, c) => (!p || c.likes > p.likes) ? c : p, null);

            totalNicknames.textContent = total;
            totalLikes.textContent = likes;
            topNickname.textContent = top ? top.text : '-';
        }

        function render() {
            if (!nicknames.length) {
                list.innerHTML = '<div class="empty-state">–ü–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π –∫–ª–∏—á–∫–∏... –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!</div>';
                return;
            }
            list.innerHTML = nicknames.map((n, i) => `
                <div class="nickname-item">
                    <div class="nickname-info">
                        <div class="nickname-text">${n.text}</div>
                        <div class="nickname-author">–æ—Ç ${n.author}</div>
                    </div>
                    <div style="display:flex;align-items:center;">
                        <button class="like-btn ${n.liked ? 'liked' : ''}" onclick="toggleLike(${i})">‚ù§Ô∏è</button>
                        <span class="likes-count">${n.likes}</span>
                    </div>
                </div>
            `).join('');
        }

        function renderModal() {
            if (!nicknames.length) {
                modalNicknames.innerHTML = '<p style="text-align:center;color:#999;">–ü–æ–∫–∞ –Ω–µ—Ç –∫–ª–∏—á–µ–∫...</p>';
                return;
            }
            modalNicknames.innerHTML = nicknames.map((n, i) => `
                <div class="modal-nickname">
                    <div class="modal-nickname-info">
                        <div class="modal-nickname-text">${n.text}</div>
                        <div class="modal-nickname-author">‚Äî ${n.author}</div>
                    </div>
                    <div style="display:flex;align-items:center;">
                        <button class="modal-like-btn ${n.liked ? 'liked' : ''}" onclick="toggleLike(${i}); event.stopPropagation();">‚ù§Ô∏è</button>
                        <span class="modal-likes-count">${n.likes}</span>
                    </div>
                </div>
            `).join('');
        }

        window.toggleLike = function(i) {
            const n = nicknames[i];
            n.likes = n.liked ? n.likes - 1 : n.likes + 1;
            n.liked = !n.liked;
            save();
        };

        // –ö–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏—á–∫—É"
        addBtn.addEventListener('click', () => {
            formSection.style.display = formSection.style.display === 'none' ? 'block' : 'none';
            if (formSection.style.display === 'block') {
                nicknameInput.focus();
            }
        });

        // –§–æ—Ä–º–∞
        form.addEventListener('submit', e => {
            e.preventDefault();
            const text = nicknameInput.value.trim();
            const author = authorInput.value.trim();
            if (text && author) {
                nicknames.push({ text, author, likes: 0, liked: false });
                nicknameInput.value = '';
                authorInput.value = '';
                formSection.style.display = 'none';
                save();
            }
        });

        // –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        viewAllBtn.addEventListener('click', () => {
            renderModal();
            modal.style.display = 'flex';
        });

        closeBtn.addEventListener('click', () => {
            modal.style.display = 'none';
        });

        window.addEventListener('click', e => {
            if (e.target === modal) {
                modal.style.display = 'none';
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        render();
        renderModal();
        updateStats();
    </script>
</body>
</html>
